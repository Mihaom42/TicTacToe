Если вы выбираете размер больше 3х3 то ждать придется долго, так как алгоритм будет проверять весь массив большое кол-во раз, так как ф-ция проверки - рекурсивная.